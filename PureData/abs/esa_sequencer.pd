#N canvas 875 -473 726 303 12;
#X declare -path esa_sequencer-abs;
#X obj 12 8 inlet;
#N canvas 0 22 450 300 looper 0;
#N canvas 0 22 450 300 referencias 0;
#X msg 13 26 browse https://cycling74.com/forums/simple-tempo-sync-loop-sequencer-tutorial/replies/1#reply-5ba9f4109384ac68f57fab9e
;
#X obj 13 78 pdcontrol;
#X obj 114 130 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X connect 0 0 1 0;
#X connect 2 0 0 0;
#X coords 0 -1 1 1 85 60 1 100 100;
#X restore 172 93 pd referencias;
#X restore 77 216 pd looper;
#X obj 358 8 declare -path esa_sequencer-abs;
#X obj 12 51 cnv 15 200 160 empty empty empty 20 12 0 14 -228856 -66577
0;
#N canvas 702 71 450 300 init 0;
#N canvas 696 143 403 153 set_arraysize 0;
#X msg 11 318 resize \$1;
#X obj 11 294 expr 60*samplerate*\$0-n_beats/\$0-bpm;
#X obj 12 276 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 61 204 s \$1-size;
#X msg 61 179 resize 524288;
#X obj 29 15 lb;
#X obj 30 62 * 4;
#X msg 30 84 resize \$1;
#X text 161 177 precisão em 1 beat;
#X text 104 89 tabelas para armazenar máx 4 beats;
#X text 151 316 com precisão de 1 sample é muito grande pro limite
do obj [array], f 33;
#N canvas 0 22 450 300 array_size_variables 0;
#X obj 108 36 r.mess tempo out beats_per_bar;
#X obj 29 169 samplerate~;
#X obj 108 60 v \$0-n_beats;
#X obj 29 193 v samplerate;
#X obj 177 159 r.mess tempo out bpm;
#X obj 177 183 v \$0-bpm;
#X obj 32 147 else/lb;
#X floatatom 29 217 5 0 0 0 - - -;
#X floatatom 177 207 5 0 0 0 - - -;
#X floatatom 108 84 5 0 0 0 - - -;
#X obj 100 53 bng 8 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 167 177 bng 8 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 20 188 bng 8 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 9 0;
#X connect 3 0 7 0;
#X connect 4 0 5 0;
#X connect 5 0 8 0;
#X connect 6 0 1 0;
#X connect 10 0 2 0;
#X connect 11 0 5 0;
#X connect 12 0 3 0;
#X restore 213 267 pd array_size_variables;
#X obj 190 42 v tables_size;
#X msg 30 38 48;
#X obj 198 16 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X floatatom 190 66 5 0 0 0 - - -;
#X obj 30 106 s automation_tables-size;
#X floatatom 66 39 5 0 0 0 - - -;
#X text 55 60 <-- máx de beats;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 4 0 3 0;
#X connect 5 0 13 0;
#X connect 6 0 7 0;
#X connect 6 0 12 0;
#X connect 7 0 16 0;
#X connect 12 0 15 0;
#X connect 13 0 6 0;
#X connect 14 0 12 0;
#X connect 17 0 6 0;
#X restore 26 23 pd set_arraysize;
#X restore 13 216 pd init;
#X obj 674 7 DSP;
#N canvas 0 124 450 300 CPUmeter 0;
#X floatatom 316 233 0 0 0 0 - - -;
#X obj 316 145 cputime;
#X obj 316 25 loadbang;
#X obj 316 89 metro 1000;
#X obj 316 117 t b b;
#X obj 316 205 * 0.1;
#X obj 316 174 int;
#X text 293 274 CPU load in percent;
#X text 339 55 <= on/off;
#X obj 316 56 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 127 248 s \$0-cpu_meter;
#X msg 127 222 label \$1;
#X obj 127 199 makefilename CPU\ %d%%;
#X msg 15 49 symbol CPU_90%;
#X obj 210 80 sel 0;
#X obj 100 100 tgl 30 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 127 100 tgl 30 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 155 100 tgl 30 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 232 34 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 100 100 cnv 15 85 30 empty \$0-cpu_meter CPU\ 11% 6 15 0 18
-66577 -228856 0;
#X obj 27 172 makefilename CPU\ **%;
#X connect 0 0 12 0;
#X connect 1 0 6 0;
#X connect 2 0 9 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X connect 4 1 1 1;
#X connect 5 0 0 0;
#X connect 6 0 5 0;
#X connect 9 0 3 0;
#X connect 9 0 14 0;
#X connect 11 0 10 0;
#X connect 12 0 11 0;
#X connect 13 0 11 0;
#X connect 14 0 20 0;
#X connect 15 0 18 0;
#X connect 16 0 18 0;
#X connect 17 0 18 0;
#X connect 18 0 9 0;
#X connect 20 0 11 0;
#X coords 0 -1 1 1 85 30 2 100 100;
#X restore 584 8 pd CPUmeter;
#X text 263 174 se reproduzindo \, então reproduz em loop;
#X text 263 216 se gravando \, então apagar ciclo se não houver entrada
, f 39;
#X text 252 79 ToDo:;
#N canvas 557 212 616 363 gui 0;
#X obj 21 11 r play_Loop_snd;
#X obj 313 14 r rec_Loop_snd;
#X obj 21 35 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 313 40 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 23 212 sel 0 1;
#X obj 313 212 sel 0 1;
#X obj 313 300 s \$0-recmode_cycle_cnv_rcv;
#X obj 23 300 s \$0-playmode_cycle_cnv_rcv;
#X text 22 153 Indicador de ativação no gui;
#X msg 336 235 color 3 22 22;
#X msg 313 265 color 10 22 22;
#X msg 23 265 color 10 22 22;
#X msg 46 235 color 6 22 22;
#X obj 21 63 s.mess sequencer in pad 0 play_mode;
#X obj 313 63 s.mess sequencer in pad 0 rec_mode;
#X obj 23 188 r.mess sequencer in pad 0 play_mode;
#X obj 313 188 r.mess sequencer in pad 0 rec_mode;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 13 0;
#X connect 3 0 14 0;
#X connect 4 0 11 0;
#X connect 4 1 12 0;
#X connect 5 0 10 0;
#X connect 5 1 9 0;
#X connect 9 0 6 0;
#X connect 10 0 6 0;
#X connect 11 0 7 0;
#X connect 12 0 7 0;
#X connect 15 0 4 0;
#X connect 16 0 5 0;
#X restore 36 168 pd gui;
#N canvas 683 64 450 250 sequencer_debug 0;
#X obj 357 27 tgl 30 0 empty empty empty 17 7 0 10 -228856 -1 -1 0
1;
#X obj 24 7 r.mess;
#X obj 24 51 parse.mess sequencer;
#X obj 24 125 spigot 0, f 48;
#X obj 24 189 print sequencer_debug;
#X obj 24 77 list prepend sequencer;
#X obj 24 101 list trim;
#X obj 24 29 t a a, f 27;
#X obj 210 52 parse.mess measure;
#X obj 210 101 list trim;
#X obj 210 77 list prepend measure;
#X connect 0 0 3 1;
#X connect 1 0 7 0;
#X connect 2 0 5 0;
#X connect 3 0 4 0;
#X connect 5 0 6 0;
#X connect 6 0 3 0;
#X connect 7 0 2 0;
#X connect 7 1 8 0;
#X connect 8 0 10 0;
#X connect 9 0 3 0;
#X connect 10 0 9 0;
#X restore 13 267 pd sequencer_debug;
#N canvas 142 -618 450 250 sequencer_API 0;
#N canvas 204 59 251 146 sequencer_info 0;
#N canvas 83 -735 1196 681 estrutura 0;
#X text 75 53 - Cada parâmetro tem um array com tamanho de:;
#X obj 399 52 expr 60*samplerate*\$0-n_beats/\$0-bpm;
#X text 95 74 Onde \; samplerate é a taxa de amostragem \, \$0-n_beats
é a quantidade de beats e \$0-bpm é o bpm geral, f 36;
#X text 352 208 [array bar];
#X text 352 228 [array phase];
#X text 352 288 [array FX_N_param_n];
#X text 351 166 [v \$1-instrument_selected];
#X text 352 308 [array FX_N_param_n];
#X text 352 328 [array FX_N_param_n];
#X text 352 348 [array FX_N_param_n];
#X text 117 250 [phasor];
#X text 335 187 |;
#X text 335 199 |;
#X text 335 211 |;
#X text 335 223 |;
#X text 335 235 |;
#X text 335 247 |;
#X text 335 259 |;
#X text 335 271 |;
#X text 335 283 |;
#X text 335 295 |;
#X text 335 307 |;
#X text 335 319 |;
#X text 335 331 |;
#X text 335 343 |;
#X text 335 355 |;
#X text 335 367 |;
#X text 247 246 ___________;
#X text 326 251 >;
#X text 527 246 ___________;
#X text 606 251 >;
#X text 622 251 [gerador de mensagens];
#X text 116 198 [rescale];
#X text 122 211 |;
#X text 122 223 |;
#X text 122 233 v;
#X text 72 427 [else/rescale];
#X text 180 419 escalona frequência do phasor em caso de mudança
de bpm \, de modo manter as proporções dos eventos computados, f
56;
#X text 505 77 o tamanho da tabela é gerado apenas uma vez, f 22
;
#X text 114 478 [phasor];
#X text 179 469 percorre as tabelas para viabilizar escrita e leitura
;
#X text 24 574 [gerador de mensages];
#X text 179 574 Processa dados das tabelas gerando mensagens de controle
para reprodução de eventos gravados, f 62;
#X text 247 316 ___________;
#X text 197 243 * tamanho/beats;
#X text 191 246 ________;
#X text 179 488 percurso depende de quantos ciclos foram finalizados
(máx 4 ciclos), f 67;
#N canvas 512 215 450 176 overdub 0;
#X text 51 50 - overdub sobrepondo ou apagando;
#X text 70 89 - até 4 ciclos;
#X text 70 106 - mantém o ciclo apenas se chegar ao fim;
#X text 51 70 - Manter último ciclo completo;
#X text 18 25 Características do overdub;
#X restore 656 481 pd overdub;
#X text 578 425 = novo_bpm/primeiro_bpm;
#X text 120 320 [Entrada de dados];
#X text 44 539 [Entrada de dados];
#X text 179 531 mensagens da controle aos instrumentos \, seus efeitos
e parâmetros de tempo. É ativada quando o pad relacionado é ativado.
, f 75;
#X text 14 20 Vetor de evento: [ <quantum> <bar> <phase> <pitch> <velocity>
<effect n> (, f 74;
#N canvas 406 272 322 199 instrument_identifier 0;
#X text 69 46 0 - sample looper (recorder);
#X text 69 66 1 - sample looper (player);
#X text 69 86 2 - sampler;
#X text 69 106 3 - synth 1;
#X text 69 126 4 - synth 2;
#X text 69 146 n - synth n-2;
#X text 29 15 [v \$1-instrument_identifier];
#X restore 544 164 pd instrument_identifier;
#X text 352 248 [array pitch_velocity];
#X obj 862 80 v \$1-instrument_identifier;
#X text 877 104 0 - sample looper (recorder);
#X text 877 124 1 - sample looper (player);
#X text 877 144 2 - sampler;
#X text 877 164 3 - synth 1;
#X text 877 184 4 - synth 2;
#X text 877 204 n - synth n-2;
#X restore 27 25 pd estrutura;
#N canvas 305 -1058 529 336 sequencer_messages 0;
#X msg 18 20 sequencer in pad <<float-all>> <<control_message>>;
#X text 35 64 <<control_messages>>;
#X text 61 104 pitch.velocity <<message>>;
#X text 187 125 reset pitch.velocity automation array;
#X text 128 125 reset -;
#X text 61 174 rec_mode <0-1>;
#X text 128 195 <0-1> -;
#X text 187 195 0 rec deactivated \, 1 rec activated;
#X text 128 245 <0-1> -;
#X text 54 224 play_mode <0-1>;
#X text 187 245 0 play deactivated \, 1 play activated;
#X restore 27 51 pd sequencer_messages;
#N canvas 878 -1058 798 333 demo_control_sequencer 0;
#X obj 402 48 tgl 15 0 empty play_Loop_snd Play_mode 17 7 0 10 -262144
-1 -1 0 1;
#X obj 403 109 tgl 15 0 empty rec_Loop_snd Rec_mode 17 7 0 10 -262144
-1 -1 0 1;
#X obj 402 76 s.mess sequencer in pad 0 play_mode;
#X obj 403 132 s.mess sequencer in pad 0 rec_mode;
#X obj 58 154 s.mess measure;
#X floatatom 58 58 5 1 4 2 measure - -;
#X msg 97 57 all;
#X floatatom 163 58 5 0 15 2 pad - -;
#X msg 203 57 all;
#X obj 163 81 t b a;
#X text 16 19 reset pitch.velocity table;
#X msg 58 131 \$1 pad \$2 pitch.velocity reset;
#X obj 58 107 else/merge, f 20;
#X msg 40 267 resize \$1;
#X obj 40 289 s automation_tables-size;
#X floatatom 40 245 5 0 0 0 - - -;
#X text 17 203 Redimensionamento das tabelas de automação;
#X obj 125 228 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 657 362 270 300 default 0;
#X obj 27 17 inlet;
#X obj 101 257 outlet;
#X obj 101 136 * 4;
#X msg 101 158 resize \$1;
#X obj 41 189 v tables_size;
#X msg 101 112 48;
#X floatatom 41 213 5 0 0 0 - - -;
#X obj 41 71 t b b, f 9;
#X text 128 132 <-- máx de beats;
#X connect 0 0 7 0;
#X connect 2 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 1 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 7 0 4 0;
#X connect 7 1 5 0;
#X restore 125 248 pd default;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 5 0 12 0;
#X connect 6 0 12 0;
#X connect 7 0 9 0;
#X connect 8 0 9 0;
#X connect 9 0 12 0;
#X connect 9 1 12 1;
#X connect 11 0 4 0;
#X connect 12 0 11 0;
#X connect 13 0 14 0;
#X connect 15 0 13 0;
#X connect 17 0 18 0;
#X connect 18 0 13 0;
#X restore 26 77 pd demo_control_sequencer;
#N canvas 671 -668 1019 489 anotações 0;
#X obj 141 101 cnv 15 320 118 empty empty sequencer 12 16 0 14 -233017
-66577 0;
#X text 179 135 - store received message;
#X text 179 154 - process received messages;
#X text 179 174 - send message at apropriate beat time;
#X text 199 61 |;
#X text 199 73 |;
#X text 199 85 V;
#X text 157 46 beat time messages;
#X text 23 135 internal API messages, f 8;
#X text 126 147 >;
#X text 505 167 >;
#X text 30 18 SEQUENCER;
#X text 422 288 - player~;
#X text 422 308 - recorder~;
#X text 400 262 SEQUENCER CONTROL:;
#X text 47 262 SEQUENCER ARE CONTROLLED BY:;
#X text 99 288 - internal API;
#X text 99 308 - metronome time;
#X text 139 85 ______________________________________________;
#X text 138 205 ______________________________________________;
#X text 457 96 |;
#X text 457 108 |;
#X text 457 120 |;
#X text 457 132 |;
#X text 457 144 |;
#X text 457 156 |;
#X text 457 168 |;
#X text 457 180 |;
#X text 457 192 |;
#X text 457 204 |;
#X text 135 96 |;
#X text 135 108 |;
#X text 135 120 |;
#X text 135 132 |;
#X text 135 144 |;
#X text 135 156 |;
#X text 135 168 |;
#X text 135 180 |;
#X text 135 192 |;
#X text 135 204 |;
#X text 84 142 ______;
#X text 464 162 ______;
#X text 490 127 event messages at time, f 9;
#X text 422 328 - synth;
#N canvas 636 102 216 271 receiveSwingTempo 0;
#X obj 44 81 list split 1;
#X obj 44 105 list trim;
#X obj 44 129 route float;
#X obj 44 201 outlet;
#X obj 24 36 r.mess tempo swing;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 4 0 0 0;
#X restore 477 17 pd receiveSwingTempo;
#X text 199 191 - swing time support;
#X text 593 277 Novo:;
#X text 601 297 - overdub sobrepondo ou apagando;
#X text 143 362 K-0-0-0-K-0-0-0;
#X text 260 362 K-0-0-0-K-0-0-0;
#X text 239 336 2/4;
#X text 143 373 ^;
#X text 172 373 ^;
#X text 200 373 ^;
#X text 229 373 ^;
#X text 260 373 ^;
#X text 289 373 ^;
#X text 346 373 ^;
#X text 404 359 Quantização=1/8;
#X text 143 413 ^;
#X text 172 413 ^;
#X text 200 413 ^;
#X text 229 413 ^;
#X text 143 402 c-c-c-c-c-c-0-c;
#X text 601 317 - Agora fazer manter sempre o último ciclo completo
;
#X text 620 356 - até 4 ciclos;
#X text 620 373 - mantém o ciclo apenas se chegar ao fim;
#X text 609 418 - um processador por canal (c/ automação);
#X text 686 67 Quantização:;
#X text 715 107 - referência: Logic;
#X text 716 125 - swing por sessão;
#X text 716 145 - será necessária criar inteligência;
#X text 699 170 - Seleção de quantização;
#X text 699 90 - Quantidade de SWING;
#X text 744 197 - 1 até 16;
#X text 317 373 ^;
#X restore 123 25 pd anotações;
#N canvas 487 201 730 300 documentação_sequencer 0;
#X text 12 18 Referência para cálculo da precisão entre eventos:
;
#N canvas 0 22 548 300 definição_de_taxa_de_amostragem_do_sequencer
0;
#X msg 28 59 browse https://www.jstor.org/stable/10.1525/mp.2002.19.4.529?seq=1
;
#X obj 28 97 pdcontrol;
#X text 120 150 Escolhida frequência de amostragem de 16 amostras
por segundo = 62 \, 5 ms;
#X text 121 109 Menor intervalo perceptualmente distiguivel é de aproximadamente
100 ms;
#X text 12 18 Referência para cálculo da precisão entre eventos
;
#X connect 0 0 1 0;
#X restore 365 18 pd definição_de_taxa_de_amostragem_do_sequencer
;
#X restore 25 106 pd documentação_sequencer;
#X restore 8 7 pd sequencer_info;
#X restore 51 8 pd sequencer_API;
#N canvas -97 -345 450 300 gravando 0;
#X text 32 32 - libera chegada de msgs MIDI na tabela;
#X text 32 52 - libera saída de msgs de automação da tabela;
#X text 32 102 - implementação do controle de modificação;
#X text 62 122 * mantém a escrita apenas se houver alguma entrada
;
#X text 82 139 · detector de ausência/presença de entrada de dados
;
#X text 82 158 · tabela de transição (?);
#X text 82 177 · copiar para tabela de leitura;
#X restore 371 232 pd gravando;
#N canvas 655 159 443 181 reproduzindo 0;
#X text 29 24 - detectar quantos compassos (measures) estão ativos
;
#X text 59 43 ·;
#X text 69 43 essa detecção é referente a informação de quantos
compassos foram ativados pelo gravador, f 49;
#X text 29 84 - reproduzir os compassos em modo loop ou em modo 1 vez
;
#X restore 430 191 pd reproduzindo;
#X obj 60 69 cnv 15 138 30 empty \$0-playmode_cycle_cnv_rcv empty 20
12 0 14 -233017 -1 0;
#X obj 60 106 cnv 15 138 30 empty \$0-recmode_cycle_cnv_rcv empty 20
12 0 14 -233017 -1 0;
#X obj 27 69 bng 30 250 50 0 play_Loop_snd play_Loop_rcv Play_Cycle
37 14 0 16 -204786 -1 -1;
#X obj 27 106 bng 30 250 50 0 rec_Loop_snd rec_Loop_rcv Rec_new_Cycle
37 14 0 16 -261234 -1 -1;
#N canvas 719 22 450 375 doc_processor 0;
#X text 36 65 LFO;
#X text 38 110 EFFECTS;
#X text 23 17 Processor in drumpad;
#X text 59 163 Vibrato;
#N canvas 512 215 450 242 LFO 0;
#N canvas 406 299 568 227 LFO_messages 0;
#X text 70 42 float;
#X text 111 42 - frequency in hertz up to 100 (negative values accepted)
;
#X text 52 59 anything;
#X text 111 59 -;
#X text 123 59 sets waveform (sine \, tri \, saw \, vsaw and square)
;
#X text 113 96 - sets waveform to sine (default), f 60;
#X text 113 112 - sets waveform to triangular, f 60;
#X text 113 128 - sets waveform to sawtooth, f 60;
#X text 7 10 INPUT MESSAGES;
#X text 70 96 sine;
#X text 76 112 tri;
#X text 76 128 saw;
#X text 10 144 square <float>;
#X text 22 160 vsaw <float>;
#X text 113 160 - sets waveform to variable sawtooth and width (from
-1 to 1), f 61;
#X text 126 176 (default 1), f 61;
#X text 113 144 - sets waveform to square and width (from 0 to 1) (default
0.5), f 63;
#X msg 127 7 processor <n> LFO <<control_message>>;
#X restore 38 30 pd LFO_messages;
#X obj 333 66 r \$0-LFO;
#X obj 86 162 s.mess processor 1 LFO;
#X floatatom 86 72 5 0 20 1 Frequency - -;
#X msg 108 104 sine;
#X msg 148 104 tri;
#X msg 188 104 saw;
#X msg 223 104 square;
#X floatatom 333 90 9 0 0 0 - - -;
#X obj 333 114 vsl 22 60 -1 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X connect 1 0 8 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 2 0;
#X connect 6 0 2 0;
#X connect 7 0 2 0;
#X connect 8 0 9 0;
#X restore 77 65 pd LFO;
#N canvas 358 193 359 280 Vibrato 0;
#N canvas 454 177 450 186 vibrato_messages 0;
#X text 72 65 <n> -;
#X text 52 85 <rate> -;
#X text 112 65 float \, processor id;
#X text 112 85 frequency in hertz;
#X text 45 105 <depth> -;
#X text 31 125 <dry-wet> -;
#X text 112 125 dry/wet signal rate (0-100);
#X text 112 138 (default 100);
#X text 112 105 interval in semitons (default 0);
#X msg 35 21 processor <n> effect vibrato <rate> <depth> <dry-wet>
;
#X restore 22 22 pd vibrato_messages;
#X obj 53 207 s.mess processor 1 effect vibrato;
#X obj 53 181 pack f f f;
#X floatatom 53 101 7 0 0 2 frequency - -;
#X floatatom 143 101 5 0 0 2 depth_semitons - -;
#X obj 143 124 t b f;
#X floatatom 263 101 5 0 100 2 dry-wet - -;
#X obj 263 124 t b f;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 5 0 2 0;
#X connect 5 1 2 1;
#X connect 6 0 7 0;
#X connect 7 0 2 0;
#X connect 7 1 2 2;
#X restore 122 163 pd Vibrato;
#X text 58 203 Tremolo;
#N canvas 750 67 412 280 Tremolo 0;
#X obj 53 181 pack f f f;
#X floatatom 53 101 7 0 0 2 frequency - -;
#X floatatom 143 101 5 0 1 2 depth - -;
#X obj 143 124 t b f;
#X floatatom 263 101 5 0 100 2 dry-wet - -;
#X obj 263 124 t b f;
#N canvas 454 177 450 186 tremolo_messages 0;
#X text 72 65 <n> -;
#X text 52 85 <rate> -;
#X text 112 65 float \, processor id;
#X text 112 85 frequency in hertz;
#X text 45 105 <depth> -;
#X text 31 125 <dry-wet> -;
#X text 112 125 dry/wet signal rate (0-100);
#X text 112 138 (default 100);
#X text 112 105 tremolo depth (from 0 to 1);
#X msg 35 21 processor <n> effect tremolo <rate> <depth> <dry-wet>
;
#X restore 22 22 pd tremolo_messages;
#X obj 53 207 s.mess processor 1 effect tremolo;
#X text 180 101 (0-1);
#X text 303 102 (0-100);
#X connect 0 0 7 0;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 3 1 0 1;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 5 1 0 2;
#X restore 122 203 pd Tremolo;
#X text 58 243 Pitch Shift;
#N canvas 750 67 412 240 Pitch-Shift 0;
#X floatatom 35 83 7 0 0 2 transposition - -;
#X floatatom 275 83 9 0 0 2 grain_size - -;
#X floatatom 165 83 5 0 100 2 dry-wet - -;
#X obj 165 106 t b f;
#X text 203 83 (0-100);
#X text 340 82 (ms);
#N canvas 438 370 569 195 pitch-shift_messages 0;
#X text 136 84 <n> -;
#X text 176 84 float \, processor id;
#X text 94 124 <dry-wet> -;
#X text 175 124 dry/wet signal rate (0-100);
#X text 52 104 <transposition> -;
#X text 73 144 <grain-size> -;
#X text 176 143 grain size in ms (default 75 \, minimum 5), f 44;
#X text 176 104 transposition in semitons (default 0), f 44;
#X msg 35 21 processor <n> effect pitch-shift <transposition> <dry-wet>
;
#X msg 35 45 processor <n> effect pitch-shift size <grain-size>;
#X restore 18 17 pd pitch-shift_messages;
#X obj 35 189 s.mess processor 1 effect pitch-shift;
#X msg 275 106 size \$1;
#X obj 35 143 pack f f;
#X text 85 83 (semitons);
#X connect 0 0 9 0;
#X connect 1 0 8 0;
#X connect 2 0 3 0;
#X connect 3 0 9 0;
#X connect 3 1 9 1;
#X connect 8 0 7 0;
#X connect 9 0 7 0;
#X restore 152 243 pd Pitch-Shift;
#X text 58 277 CutOff;
#N canvas 411 290 412 257 Cutoff 0;
#X obj 66 171 pack f f f;
#X floatatom 66 91 7 0 0 2 frequency - -;
#X floatatom 156 91 5 0 15 2 resonance - -;
#X obj 156 114 t b f;
#X floatatom 276 91 5 0 100 2 dry-wet - -;
#X obj 276 114 t b f;
#X text 316 92 (0-100);
#N canvas 661 439 507 186 cutoff_messages 0;
#X text 102 65 <n> -;
#X text 142 65 float \, processor id;
#X text 60 125 <dry-wet> -;
#X text 142 125 dry/wet signal rate (0-100);
#X text 142 138 (default 100);
#X text 46 85 <frequency> -;
#X text 46 105 <resonance> -;
#X text 142 85 cut off frequency in hertz;
#X text 142 105 tremolo depth (from 0 to 15);
#X msg 35 21 processor <n> effect cutoff <frequency> <resonance> <dry-wet>
, f 62;
#X restore 19 15 pd cutoff_messages;
#X text 193 91 (0-15);
#X obj 66 197 s.mess processor 1 effect cutoff;
#X connect 0 0 9 0;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 3 1 0 1;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 5 1 0 2;
#X restore 122 277 pd Cutoff;
#X text 59 322 Patchbay;
#N canvas 397 -545 729 458 Patchbay 0;
#N canvas 1109 -505 540 275 patchbay_messages 0;
#X msg 21 15 processor 1 patchbay 1 pad <n> effect <<effect_name>>
state <0-1>, f 65;
#X text 113 63 <n> -;
#X text 29 83 <<effect_name>> -;
#X text 153 83 clean \, vibrato \, tremolo \, pitch_shift or cutoff
;
#X text 57 103 state <0-1> -;
#X text 153 103 if effect assignaled will be activated or deactivated
, f 41;
#X text 153 63 pad number or all;
#X msg 21 175 processor 1 patchbay 1 reset;
#X text 69 202 reset message disconnect all.;
#X restore 13 10 pd patchbay_messages;
#X obj 104 398 s.mess processor 1 patchbay 1;
#X msg 29 56 reset;
#X obj 100 183 list prepend pad;
#X floatatom 122 58 5 0 15 1 pad - -;
#X msg 85 58 all;
#X obj 100 289 list append;
#X obj 226 183 list prepend effect;
#X obj 100 313 list trim;
#X msg 226 101 clean;
#X msg 305 101 vibrato;
#X msg 389 101 tremolo;
#X msg 478 101 pitch_shift;
#X msg 617 101 cutoff;
#X obj 226 56 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 226 76 t b f;
#X obj 305 56 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 305 76 t b f;
#X obj 389 56 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 389 76 t b f;
#X obj 478 56 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 478 76 t b f;
#X obj 617 56 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 617 76 t b f;
#X msg 419 222 state \$1;
#X obj 226 253 list append, f 28;
#X connect 2 0 1 0;
#X connect 3 0 6 0;
#X connect 4 0 3 0;
#X connect 5 0 3 0;
#X connect 6 0 8 0;
#X connect 7 0 25 0;
#X connect 8 0 1 0;
#X connect 9 0 7 0;
#X connect 10 0 7 0;
#X connect 11 0 7 0;
#X connect 12 0 7 0;
#X connect 13 0 7 0;
#X connect 14 0 15 0;
#X connect 15 0 9 0;
#X connect 15 1 24 0;
#X connect 16 0 17 0;
#X connect 17 0 10 0;
#X connect 17 1 24 0;
#X connect 18 0 19 0;
#X connect 19 0 11 0;
#X connect 19 1 24 0;
#X connect 20 0 21 0;
#X connect 21 0 12 0;
#X connect 21 1 24 0;
#X connect 22 0 23 0;
#X connect 23 0 13 0;
#X connect 23 1 24 0;
#X connect 24 0 25 1;
#X connect 25 0 6 1;
#X restore 125 321 pd Patchbay;
#X msg 97 116 processor <n> effect <<control_message>>;
#X restore 513 58 pd doc_processor;
#X text 263 114 resolver reprodução em compassos. No momento está
gravando os 4 compassos com a mesma informação;
#N canvas 94 489 564 156 measures_tables 0;
#X obj 10 13 cnv 15 540 130 empty empty empty 20 12 0 14 -233017 -66577
0;
#X obj 152 113 measures 4 pad 1;
#X obj 281 113 measures 4 pad 2;
#X obj 411 113 measures 4 pad 3;
#X obj 22 83 measures 4 pad 4;
#X obj 153 83 measures 4 pad 5;
#X obj 280 83 measures 4 pad 6;
#X obj 411 83 measures 4 pad 7;
#X obj 22 53 measures 4 pad 8;
#X obj 152 53 measures 4 pad 9;
#X obj 281 53 measures 4 pad 10;
#X obj 411 53 measures 4 pad 11;
#X obj 22 23 measures 4 pad 12;
#X obj 152 23 measures 4 pad 13;
#X obj 281 23 measures 4 pad 14;
#X obj 411 23 measures 4 pad 15;
#X obj 22 113 measures 4 pad 0;
#X restore 13 241 pd measures_tables;
#N canvas 158 -503 623 408 sequencer_message_processor 0;
#X obj 187 174 list trim;
#X obj 186 280 list trim;
#N canvas 0 22 256 166 error 0;
#X obj 30 30 inlet;
#X obj 31 92 print -n;
#X msg 30 70 invalid message to sequencer;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X restore 400 236 pd error;
#N canvas 302 -912 472 338 rec 0;
#X obj 51 41 inlet;
#X obj 100 296 outlet;
#X obj 191 41 inlet;
#X obj 120 163 f;
#X obj 71 128 route bang;
#X obj 120 238 list prepend;
#X obj 120 197 list prepend rec;
#X obj 71 77 t a b;
#X msg 103 98 1, f 1;
#X obj 211 81 spigot 0;
#X obj 211 111 t b a b, f 11;
#X msg 285 132 0, f 1;
#X obj 248 197 list prepend measure all pad;
#X connect 0 0 7 0;
#X connect 2 0 9 0;
#X connect 3 0 6 0;
#X connect 4 1 3 1;
#X connect 5 0 1 0;
#X connect 6 0 5 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 9 1;
#X connect 9 0 10 0;
#X connect 10 0 3 0;
#X connect 10 1 12 0;
#X connect 10 2 11 0;
#X connect 11 0 9 1;
#X connect 12 0 5 1;
#X restore 187 237 pd rec;
#N canvas -98 -926 442 313 play 0;
#X obj 21 21 inlet;
#X obj 70 276 outlet;
#X obj 161 21 inlet;
#X obj 70 143 f;
#X obj 21 108 route bang;
#X obj 70 218 list prepend;
#X obj 21 57 t a b;
#X msg 53 78 1, f 1;
#X obj 161 61 spigot 0;
#X obj 161 91 t b a b, f 11;
#X msg 235 112 0, f 1;
#X obj 70 177 list prepend play;
#X obj 198 178 list prepend measure all pad;
#X connect 0 0 6 0;
#X connect 2 0 8 0;
#X connect 3 0 11 0;
#X connect 4 1 3 1;
#X connect 5 0 1 0;
#X connect 6 0 4 0;
#X connect 6 1 7 0;
#X connect 7 0 8 1;
#X connect 8 0 9 0;
#X connect 9 0 3 0;
#X connect 9 1 12 0;
#X connect 9 2 10 0;
#X connect 10 0 8 1;
#X connect 11 0 5 0;
#X connect 12 0 5 1;
#X restore 256 237 pd play;
#X obj 21 16 r.mess sequencer in pad;
#X obj 73 106 list trim;
#X obj 187 200 route rec_mode play_mode reset;
#N canvas 815 -699 614 383 reset 0;
#X obj 51 49 inlet;
#X obj 100 323 outlet;
#X obj 191 49 inlet;
#X obj 71 138 route bang;
#X obj 71 87 t a b;
#X msg 103 108 1, f 1;
#X obj 211 106 spigot 0;
#X obj 211 129 t b a b, f 11;
#X msg 285 150 0, f 1;
#X obj 120 173 else/message;
#X text 8 15 IN:;
#X text 152 330 OUT:;
#X text 184 330 measure <float-all> pad <float-all> pitch.velocity
reset;
#X msg 248 174 set measure \$3 pad \$1 \$4 reset;
#X msg 120 244 measure 8 pad all pitch.velocity reset, f 44;
#X obj 211 86 list;
#X text 31 15 sequencer in pad <float-all> measure <float-all> <<parameter
table>> reset, f 74;
#X connect 0 0 4 0;
#X connect 2 0 15 0;
#X connect 3 0 9 1;
#X connect 4 0 3 0;
#X connect 4 1 5 0;
#X connect 5 0 6 1;
#X connect 6 0 7 0;
#X connect 7 0 9 0;
#X connect 7 1 13 0;
#X connect 7 2 8 0;
#X connect 8 0 6 1;
#X connect 9 0 14 0;
#X connect 13 0 14 0;
#X connect 14 0 1 0;
#X connect 15 0 6 0;
#X restore 325 237 pd reset;
#X obj 73 77 list split 4, f 33;
#X obj 166 340 s.mess;
#X text 165 363 OUT:;
#X text 197 363 measure <float-all> pad <float-all> <<control_message>>
;
#X obj 41 134 list split 1;
#X obj 41 181 t a a;
#X obj 41 50 t a a;
#X obj 41 160 list trim;
#X connect 0 0 7 0;
#X connect 1 0 10 0;
#X connect 3 0 1 0;
#X connect 4 0 1 0;
#X connect 5 0 15 0;
#X connect 6 0 8 1;
#X connect 7 0 3 0;
#X connect 7 1 4 0;
#X connect 7 2 8 0;
#X connect 7 3 2 0;
#X connect 8 0 1 0;
#X connect 9 0 6 0;
#X connect 9 1 0 0;
#X connect 13 0 16 0;
#X connect 13 1 0 0;
#X connect 14 0 3 1;
#X connect 14 1 4 1;
#X connect 15 0 13 0;
#X connect 15 1 9 0;
#X connect 16 0 14 0;
#X restore 12 29 pd sequencer_message_processor;
#X obj 182 230 adc~;
#X obj 169 258 s~ phase;
#X obj 243 259 s~ beat_time;
#X connect 23 0 24 0;
#X connect 23 1 25 0;
