#N canvas 869 143 277 177 10;
#X declare -path ../;
#N canvas 716 253 214 236 measure_inputs 0;
#N canvas 0 22 840 300 set_automation_arrays 0;
#X obj 51 73 route pitch.velocity, f 55;
#X obj 51 157 unpack f f f;
#X obj 51 187 pack;
#X obj 23 21 inlet;
#X obj 51 217 array set pitch.velocity_pad_\$3_measure_\$1;
#X obj 317 217 array set phase_pad_\$3_measure_\$1;
#X obj 524 217 array set bar_pad_\$3_measure_\$1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 1 2 4 1;
#X connect 2 0 4 0;
#X connect 3 0 0 0;
#X restore 33 184 pd set_automation_arrays;
#N canvas 0 22 519 241 MIDInotes 0;
#X obj 28 199 outlet;
#X obj 28 17 notein, f 14;
#X obj 28 73 pack f f f;
#X obj 28 97 list prepend pitch.velocity;
#X obj 28 121 list trim;
#X obj 134 17 tracking_phase;
#X text 241 13 A partir da phase gera um índice para tabelas de automação
, f 32;
#X text 107 123 tagueando pitch.velocity para armazenar os dados MIDI
na tabela correta, f 24;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 0 0;
#X connect 5 1 2 2;
#X restore 33 41 pd MIDInotes;
#N canvas 400 189 820 348 reset 0;
#X obj 88 175 bng 30 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 88 146 parse.mess pitch.velocity reset;
#X obj 68 35 r.mess measure;
#X obj 88 69 route \$1;
#X obj 143 69 route all;
#X obj 88 90 route pad;
#X obj 143 109 route all;
#X obj 88 109 route \$3;
#X msg 13 7 measure <float-all> pad <float-all> pitch.velocity reset
;
#X msg 88 288 \; pitch.velocity_pad_\$2_measure_\$1 const 0;
#X obj 88 210 t b b;
#X obj 88 229 \$1;
#X obj 115 229 \$3;
#X obj 88 250 pack;
#X connect 0 0 10 0;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 3 1 4 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 6 0 1 0;
#X connect 7 0 1 0;
#X connect 7 1 6 0;
#X connect 10 0 11 0;
#X connect 10 1 12 0;
#X connect 11 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 9 0;
#X restore 14 14 pd reset;
#N canvas 925 343 221 284 gate_MIDI_notes 0;
#X obj 28 21 inlet;
#X obj 28 234 outlet;
#X obj 28 192 spigot 0;
#X obj 73 152 route rec;
#X obj 57 50 r.mess measure;
#X obj 73 101 route pad;
#X obj 73 71 route \$1;
#X obj 129 71 route all;
#X obj 73 121 route \$3;
#X obj 129 121 route all;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X connect 3 0 2 1;
#X connect 4 0 6 0;
#X connect 5 0 8 0;
#X connect 6 0 5 0;
#X connect 6 1 7 0;
#X connect 7 0 5 0;
#X connect 8 0 3 0;
#X connect 8 1 9 0;
#X connect 9 0 3 0;
#X restore 33 68 pd gate_MIDI_notes;
#X connect 1 0 3 0;
#X connect 3 0 0 0;
#X restore 15 11 pd measure_inputs;
#N canvas 373 281 571 240 measure_outputs 0;
#X obj 87 168 unpack f f;
#X obj 92 201 noteout;
#X obj 47 14 tracking_phase;
#N canvas 669 388 241 300 gate_measure_play_mode 0;
#X obj 28 20 inlet;
#X obj 28 265 outlet;
#X obj 28 192 spigot 0;
#X obj 57 50 r.mess measure;
#X obj 73 101 route pad;
#X obj 73 71 route \$1;
#X obj 129 71 route all;
#X obj 73 121 route \$3;
#X obj 129 121 route all;
#X obj 73 152 route play;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X connect 3 0 5 0;
#X connect 4 0 7 0;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 4 0;
#X connect 7 0 9 0;
#X connect 7 1 8 0;
#X connect 8 0 9 0;
#X connect 9 0 2 1;
#X restore 87 42 pd gate_measure_play_mode;
#N canvas 669 388 241 300 gate_measure_play_mode 0;
#X obj 28 20 inlet;
#X obj 28 265 outlet;
#X obj 28 192 spigot 0;
#X obj 57 50 r.mess measure;
#X obj 73 101 route pad;
#X obj 73 71 route \$1;
#X obj 129 71 route all;
#X obj 73 121 route \$3;
#X obj 129 121 route all;
#X obj 73 152 route play;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X connect 3 0 5 0;
#X connect 4 0 7 0;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 4 0;
#X connect 7 0 9 0;
#X connect 7 1 8 0;
#X connect 8 0 9 0;
#X connect 9 0 2 1;
#X restore 359 111 pd gate_measure_play_mode;
#X obj 359 46 notein;
#X obj 359 87 pack;
#X obj 87 94 array get pitch.velocity_pad_\$3_measure_\$1;
#X connect 0 0 1 0;
#X connect 0 1 1 1;
#X connect 2 1 3 0;
#X connect 3 0 7 0;
#X connect 4 0 0 0;
#X connect 5 0 6 0;
#X connect 5 1 6 1;
#X connect 6 0 4 0;
#X connect 7 0 0 0;
#X restore 15 36 pd measure_outputs;
#X obj 151 143 declare -path ../;
#N canvas 652 349 450 202 arrays 0;
#X obj 26 53 array define -yrange 0 128 pitch.velocity_pad_\$3_measure_\$1
;
#X obj 27 104 array define phase_pad_\$3_measure_\$1;
#X obj 28 155 array define bar_pad_\$3_measure_\$1;
#X obj 26 30 r automation_tables-size;
#X obj 27 80 r automation_tables-size;
#X obj 28 131 r automation_tables-size;
#X connect 3 0 0 0;
#X connect 4 0 1 0;
#X connect 5 0 2 0;
#X restore 15 60 pd arrays;
